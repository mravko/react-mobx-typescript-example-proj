(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(t,e,o){"use strict";o.r(e);var n,r=o(0),i=o(12),c=o(1),a=o(5),p=o(4),l=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(){this.isAdmin=!1}return l([c.observable,s("design:type",String)],t.prototype,"userName",void 0),l([c.observable,s("design:type",Boolean)],t.prototype,"isAdmin",void 0),t}(),f=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(t){this.appStore=t}return Object.defineProperty(t.prototype,"isUserLoggedIn",{get:function(){return!!this.loggedInUser},enumerable:!0,configurable:!0}),t.prototype.logInUser=function(){this.loggedInUser=new u,this.loggedInUser.userName="Marko"},t.prototype.logout=function(){this.loggedInUser=null},f([c.observable,d("design:type",u)],t.prototype,"loggedInUser",void 0),f([c.computed,d("design:type",Boolean),d("design:paramtypes",[])],t.prototype,"isUserLoggedIn",null),f([c.action,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],t.prototype,"logInUser",null),f([c.action,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],t.prototype,"logout",null),t}(),h=o(15),m=o(13),b=o.n(m),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),v=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},O=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),Object.defineProperty(e.prototype,"queryStringParams",{get:function(){return b.a.parse(this.location.pathname)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryStringValue",{get:function(){return this.location.search.replace("?","")},enumerable:!0,configurable:!0}),e.prototype.setQueryValue=function(t,e){var o=b.a.parse(this.queryStringValue,{parseNumbers:!0});o[t]=e,this.history.push({search:"?"+b.a.stringify(o)})},e.prototype.queryValue=function(t){return b.a.parse(this.queryStringValue,{parseNumbers:!0})[t]},v([c.computed,O("design:type",Object),O("design:paramtypes",[])],e.prototype,"queryStringParams",null),v([c.computed,O("design:type",Object),O("design:paramtypes",[])],e.prototype,"queryStringValue",null),e}(h.RouterStore),w=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},R=function(){function t(t){var e=this;this.userStore=new y(this),this.routingStore=t,Object(c.reaction)((function(){return e.pageTitle}),(function(t){document.title=t}))}return t.prototype.setPageTitle=function(t){this.pageTitle=t},w([c.observable,_("design:type",Boolean)],t.prototype,"freezeScreen",void 0),w([c.observable,_("design:type",String)],t.prototype,"pageTitle",void 0),w([c.action,_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],t.prototype,"setPageTitle",null),t}();console.log("creating appstore instance");var P,E,D,M,I,S=new R(new j),Y=function(){return Object(r.useEffect)((function(){S.setPageTitle("Landing page")}),[]),r.createElement(r.Fragment,null,r.createElement("div",null,"Hello, this is the landing page"))},X=o(2),A=o(8),k=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},F=A.a.div(P||(P=k(["\n  width: 350px;\n"],["\n  width: 350px;\n"]))),x=function(t){for(var e={},o=0,n=t.model.columns;o<n.length;o++){var i=n[o];e[i]=r.createRef()}return r.createElement(F,null,r.createElement("form",{onSubmit:function(o){o.preventDefault(),function(t,e){var o={};t.columns.map((function(t){o[t]=e[t].current.value})),t.addRow(o),Object.keys(e).forEach((function(t){e[t].current.value=""}))}(t.model,e)}},t.model.columns.map((function(t){return r.createElement("div",{key:t,className:"form-group mb-2"},r.createElement("label",{key:t},t),r.createElement("input",{className:"form-control",required:!0,ref:e[t],type:"text"}))})),r.createElement("button",{className:"btn btn-secondary btn-lg btn-block",type:"submit"},"Add")))},N=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},T=A.a.tr(E||(E=N(["\n  :hover {\n    background-color: lightgray;\n    cursor: pointer;\n  }\n"],["\n  :hover {\n    background-color: lightgray;\n    cursor: pointer;\n  }\n"]))),U=Object(X.a)((function(t){return t.model.hasData?r.createElement(r.Fragment,null,r.createElement("table",{className:"table table-bordered"},r.createElement("thead",null,r.createElement("tr",null,t.model.columns.map((function(t){return r.createElement("th",{key:t},t)})))),r.createElement("tbody",null,t.model.rows.map((function(e){return r.createElement(T,{onClick:function(){return t.model.selectRow(e)},key:e.id},t.model.columns.map((function(t){return r.createElement("td",{key:e[t]},e[t])})))})))),r.createElement(x,{model:t.model})):r.createElement("div",null,"No data")})),C=function(){function t(){this.reactions=[],this.disposers=[]}return t.prototype.disposeReactions=function(){console.debug("disposing reactions");for(var t=0,e=this.reactions;t<e.length;t++){(0,e[t])()}for(var o=0,n=this.disposers;o<n.length;o++){(0,n[o])()}},t}(),z=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),V=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},q=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},B=function(t){function e(e){var o=t.call(this)||this;return o.data=e,o.reactions.push(Object(c.reaction)((function(){return Object(c.toJS)(o.data)}),(function(){alert("You haven't made a change for 3s. The data is saved on the server.")}),{delay:3e3})),o}return z(e,t),e.prototype.closeDetail=function(){this.saveReaction()},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.data)},enumerable:!0,configurable:!0}),e.prototype.setDataValue=function(t,e){this.data[t]=e},V([c.observable,q("design:type",Object)],e.prototype,"data",void 0),V([c.action,q("design:type",Function),q("design:paramtypes",[]),q("design:returntype",void 0)],e.prototype,"closeDetail",null),V([c.computed,q("design:type",Array),q("design:paramtypes",[])],e.prototype,"keys",null),V([c.action,q("design:type",Function),q("design:paramtypes",[String,String]),q("design:returntype",void 0)],e.prototype,"setDataValue",null),e}(C),L=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},W=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=function(){function t(){var t=this;Object(c.runInAction)((function(){t.data=[],t.init(),t.activeRow=null}))}return Object.defineProperty(t.prototype,"rows",{get:function(){return S.userStore.isUserLoggedIn?this.data:this.data.filter((function(t){return!1===t._private}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.hasData?Object.keys(this.data[0]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasData",{get:function(){return 0!==this.data.length},enumerable:!0,configurable:!0}),t.prototype.addRow=function(t){this.data.push(t)},t.prototype.selectRow=function(t){this.activeRow=t},t.prototype.init=function(){this.data=[{id:1,name:"Marko",surname:"Vuckovik",_private:!1},{id:2,name:"Salvadordalu",surname:"Kojetoj",_private:!1},{id:3,name:"Butrosgali",surname:"Tojetoj",_private:!1},{id:4,name:"Tos",surname:"Tkajbombata",_private:!0}]},L([c.observable,W("design:type",Object)],t.prototype,"activeRow",void 0),L([c.observable,W("design:type",Array)],t.prototype,"data",void 0),L([c.computed,W("design:type",Array),W("design:paramtypes",[])],t.prototype,"rows",null),L([c.computed,W("design:type",Array),W("design:paramtypes",[])],t.prototype,"columns",null),L([c.computed,W("design:type",Boolean),W("design:paramtypes",[])],t.prototype,"hasData",null),L([c.action,W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",void 0)],t.prototype,"addRow",null),L([c.action,W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",void 0)],t.prototype,"selectRow",null),L([c.action,W("design:type",Function),W("design:paramtypes",[]),W("design:returntype",void 0)],t.prototype,"init",null),t}(),G=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),J=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Q=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},K=function(t){function e(){var e=t.call(this)||this;return Object(c.runInAction)((function(){e.masterModel=new H})),e.reactions.push(Object(c.reaction)((function(){return e.masterModel.activeRow}),(function(){e.routeToDetail(e.masterModel.activeRow),S.pageTitle=e.masterModel.activeRow.name}))),e.reactions.push(Object(c.reaction)((function(){return S.routingStore.queryStringValue}),(function(){var t=S.routingStore.queryValue("detailsId");e.openDetailFromId(parseInt(t))}),{fireImmediately:!0})),e}return G(e,t),e.prototype.openDetail=function(t){this.detailModel=new B(t)},e.prototype.openDetailFromId=function(t){var e=this.masterModel.data.find((function(e){return parseInt(e.id)===parseInt(t)}));e?this.openDetail(e):this.detailModel=null},e.prototype.routeToDetailId=function(t){S.routingStore.setQueryValue("detailsId",t)},e.prototype.routeToDetail=function(t){this.routeToDetailId(t.id)},J([c.observable,Q("design:type",B)],e.prototype,"detailModel",void 0),J([c.action,Q("design:type",Function),Q("design:paramtypes",[Object]),Q("design:returntype",void 0)],e.prototype,"openDetail",null),J([c.action,Q("design:type",Function),Q("design:paramtypes",[Object]),Q("design:returntype",void 0)],e.prototype,"openDetailFromId",null),J([c.action,Q("design:type",Function),Q("design:paramtypes",[Object]),Q("design:returntype",void 0)],e.prototype,"routeToDetailId",null),J([c.action,Q("design:type",Function),Q("design:paramtypes",[Object]),Q("design:returntype",void 0)],e.prototype,"routeToDetail",null),e}(C),Z=Object(X.a)((function(t){return r.createElement("div",null,t.model.keys.map((function(e){return r.createElement("div",{key:e},r.createElement("h4",null,e),r.createElement("div",null,r.createElement("input",{type:"text",value:t.model.data[e],onChange:function(o){t.model.setDataValue(e,o.target.value)}})))})))})),$=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ot=function(t){function e(e){var o=t.call(this,e)||this;return o.viewModel=new K,o}return $(e,t),e.prototype.componentWillUnmount=function(){this.viewModel.disposeReactions()},e.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(U,{model:this.viewModel.masterModel}),this.viewModel.detailModel?r.createElement(Z,{model:this.viewModel.detailModel}):null)},e=tt([X.a,et("design:paramtypes",[Object])],e)}(r.Component),nt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nt(e,t),e.prototype.render=function(){return r.createElement(ot,null)},e=rt([X.a],e)}(r.Component),ct=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),at=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},pt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lt=function(t){function e(e){var o=t.call(this,e)||this;return o.gridModel=new H,o}return ct(e,t),e.prototype.componentDidMount=function(){S.setPageTitle("Grid only page")},e.prototype.render=function(){return r.createElement("div",null,r.createElement(U,{model:this.gridModel}))},e=at([X.a,pt("design:paramtypes",[Object])],e)}(r.Component),st=o(14),ut=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ft=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},yt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ht=A.a.div(D||(D=ut(["\n  display: flex;\n  flex-direction: horizontal;\n"],["\n  display: flex;\n  flex-direction: horizontal;\n"]))),mt=function(t){function e(e){var o=t.call(this,e)||this;return o.loginUser=function(){S.userStore.logInUser()},o.logoutUser=function(){S.userStore.logout()},o}return ft(e,t),e.prototype.render=function(){return r.createElement(ht,null,S.userStore.isUserLoggedIn?r.createElement(r.Fragment,null,r.createElement("div",null,S.userStore.loggedInUser.userName),r.createElement("button",{onClick:this.logoutUser},"Log out")):r.createElement(r.Fragment,null,r.createElement("div",null,"not authenticated"),r.createElement("button",{onClick:this.loginUser},"Log In")))},e=dt([X.a,yt("design:paramtypes",[Object])],e)}(r.Component),bt=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},gt=A.a.div(M||(M=bt(["\n  display: flex;\n  flex-direction: horizontal;\n"],["\n  display: flex;\n  flex-direction: horizontal;\n"]))),vt=A.a.div(I||(I=bt(["\n  width: 200px;\n"],["\n  width: 200px;\n"]))),Ot=function(){return r.createElement(gt,null,r.createElement(vt,null,r.createElement(st.a,{to:"/"},"Home")),r.createElement(vt,null,r.createElement(st.a,{to:"/grid"},"Grid only")),r.createElement(vt,null,r.createElement(st.a,{to:"/master"},"Master detail")),r.createElement(vt,null,r.createElement(st.a,{to:"/game"},"Game")),r.createElement(mt,null))},jt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},_t=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rt=function(t){function e(e,o,n){var r=t.call(this)||this;return Object(c.runInAction)((function(){r.positionX=e,r.positionY=o,r.id=n,r.size=1})),r}return jt(e,t),e.prototype.move=function(){console.log("move from soul");var t=this.getRandomInt(1,5);1==t?this.positionY+1<this.world.worldHeight-this.size&&this.positionY++:2==t?this.positionX+1<this.world.worldWidth-this.size&&this.positionX++:3==t?this.positionY-1>1&&this.positionY--:this.positionX-1>1&&this.positionX--},e.prototype.moveOn=function(t,e){this.positionX=t,this.positionY=e},e.prototype.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},wt([c.observable,_t("design:type",String)],e.prototype,"id",void 0),wt([c.observable,_t("design:type",Number)],e.prototype,"positionX",void 0),wt([c.observable,_t("design:type",Number)],e.prototype,"positionY",void 0),wt([c.observable,_t("design:type",Number)],e.prototype,"size",void 0),wt([c.action,_t("design:type",Function),_t("design:paramtypes",[]),_t("design:returntype",void 0)],e.prototype,"move",null),wt([c.action,_t("design:type",Function),_t("design:paramtypes",[Number,Number]),_t("design:returntype",void 0)],e.prototype,"moveOn",null),e}(C),Pt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Et=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Dt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mt=function(t){function e(e,o,n,r,i){var a=t.call(this,e,o,n)||this;return a.world=i,a.disposers.push(Object(c.reaction)((function(){return r.seconds}),(function(t){t%2==0&&a.move()}))),a}return Pt(e,t),e.prototype.move=function(){var e=this.world.locations[this.positionY+"_"+this.positionX];e&&(e.herbivore=null),t.prototype.move.call(this),(e=this.world.locations[this.positionY+"_"+this.positionX])&&(e.herbivore=this)},e.prototype.die=function(){this.disposeReactions()},Et([c.action,Dt("design:type",Function),Dt("design:paramtypes",[]),Dt("design:returntype",void 0)],e.prototype,"move",null),Et([c.action,Dt("design:type",Function),Dt("design:paramtypes",[]),Dt("design:returntype",void 0)],e.prototype,"die",null),e}(Rt),It=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),St=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Yt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xt=function(t){function e(e,o,n,r,i){var a=t.call(this,e,o,n)||this;return a.world=i,a.disposers.push(Object(c.reaction)((function(){return r.seconds}),(function(){a.move()}))),a}return It(e,t),e.prototype.move=function(){var e=this.world.locations[this.positionY+"_"+this.positionX];e&&(e.carnivore=null);var o=this.moveBySmell();if(null!=o?t.prototype.moveOn.call(this,o.positionX,o.positionY):t.prototype.move.call(this),(e=this.world.locations[this.positionY+"_"+this.positionX])&&(e.carnivore=this,null!=e.herbivore)){console.log("eating",this,e.herbivore);var n=this.world.souls.findIndex((function(t){return t.id===e.herbivore.id}));-1!==n&&this.world.souls[n]&&(e.herbivore.die(),e.herbivore=null,this.world.souls.splice(n,1))}},Object.defineProperty(e.prototype,"smellBox",{get:function(){return[this.world.locations[this.positionY-1+"_"+this.positionX],this.world.locations[this.positionY+1+"_"+this.positionX],this.world.locations[this.positionY-1+"_"+(this.positionX-1)],this.world.locations[this.positionY+"_"+(this.positionX-1)],this.world.locations[this.positionY+1+"_"+(this.positionX-1)],this.world.locations[this.positionY-1+"_"+(this.positionX+1)],this.world.locations[this.positionY+"_"+(this.positionX+1)],this.world.locations[this.positionY+1+"_"+(this.positionX+1)],this.world.locations[this.positionY-2+"_"+this.positionX],this.world.locations[this.positionY+2+"_"+this.positionX],this.world.locations[this.positionY-2+"_"+(this.positionX-1)],this.world.locations[this.positionY+2+"_"+(this.positionX-1)],this.world.locations[this.positionY-2+"_"+(this.positionX+1)],this.world.locations[this.positionY+2+"_"+(this.positionX+1)],this.world.locations[this.positionY-2+"_"+(this.positionX-2)],this.world.locations[this.positionY+2+"_"+(this.positionX-2)],this.world.locations[this.positionY-2+"_"+(this.positionX+2)],this.world.locations[this.positionY+2+"_"+(this.positionX+2)]]},enumerable:!0,configurable:!0}),e.prototype.moveBySmell=function(){var t=this.smellBox.sort((function(t){return t.herbivoreSmell}))[0];return 0==t.herbivoreSmell?null:(console.log("moving by smell",t),t)},St([c.action,Yt("design:type",Function),Yt("design:paramtypes",[]),Yt("design:returntype",void 0)],e.prototype,"move",null),e}(Rt),At=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Ft=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xt=function(t){function e(){var e=t.call(this)||this;return Object(c.runInAction)((function(){e.seconds=0})),e.time=setInterval((function(){Object(c.runInAction)((function(){e.seconds++}))}),100),e.disposers.push(e.disposeInterval),e}return At(e,t),e.prototype.disposeInterval=function(){this.time&&clearInterval(this.time)},kt([c.observable,Ft("design:type",Number)],e.prototype,"seconds",void 0),e}(C),Nt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Ut=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ct=function(t){function e(e,o){var n=t.call(this)||this;return n.id=e,n.herbivoreSmell=0,n.disposers.push(Object(c.reaction)((function(){return o.seconds}),(function(){n.herbivore?n.herbivoreSmell=100:(n.herbivoreSmell=n.herbivoreSmell-25,n.herbivoreSmell<0&&(n.herbivoreSmell=0))}))),n}return Nt(e,t),Object.defineProperty(e.prototype,"positionX",{get:function(){return parseInt(this.id.split("_")[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionY",{get:function(){return parseInt(this.id.split("_")[0])},enumerable:!0,configurable:!0}),e.prototype.resetLocation=function(){this.carnivore=null,this.herbivore=null},Tt([c.computed,Ut("design:type",Number),Ut("design:paramtypes",[])],e.prototype,"positionX",null),Tt([c.computed,Ut("design:type",Number),Ut("design:paramtypes",[])],e.prototype,"positionY",null),Tt([c.observable,Ut("design:type",Xt)],e.prototype,"carnivore",void 0),Tt([c.observable,Ut("design:type",Mt)],e.prototype,"herbivore",void 0),Tt([c.observable,Ut("design:type",Number)],e.prototype,"herbivoreSmell",void 0),Tt([c.action,Ut("design:type",Function),Ut("design:paramtypes",[]),Ut("design:returntype",void 0)],e.prototype,"resetLocation",null),e}(C),zt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},qt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bt=function(t){function e(e,o){var n=t.call(this)||this;return Object(c.runInAction)((function(){n.worldHeight=e,n.worldWidth=o,n.souls=[],n.timeDimension=new xt,n.locations={}})),n}return zt(e,t),Object.defineProperty(e.prototype,"randomPosition",{get:function(){var t=Math.random();t=Math.round(t*this.worldWidth);var e=Math.random();return{x:t,y:e=Math.round(e*this.worldWidth)}},enumerable:!0,configurable:!0}),e.prototype.ltbl=function(){for(var t=0;t<500;t++){var e=this.randomPosition;this.souls.push(new Mt(e.x,e.y,"h"+t,this.timeDimension,this))}for(t=0;t<20;t++){e=this.randomPosition;var o=new Xt(e.x,e.y,"c"+t,this.timeDimension,this);this.souls.push(o)}for(var n={},r=0;r<=this.worldHeight;r++)for(var i=0;i<=this.worldWidth;i++)n[r+"_"+i]=new Ct(r+"_"+i,this.timeDimension);Object(c.extendObservable)(this.locations,n),window.world=this},Vt([c.observable.struct,qt("design:type",Number)],e.prototype,"worldWidth",void 0),Vt([c.observable.struct,qt("design:type",Number)],e.prototype,"worldHeight",void 0),Vt([c.observable,qt("design:type",Array)],e.prototype,"souls",void 0),Vt([c.observable,qt("design:type",xt)],e.prototype,"timeDimension",void 0),Vt([c.observable,qt("design:type",Object)],e.prototype,"locations",void 0),Vt([c.action,qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",void 0)],e.prototype,"ltbl",null),e}(C),Lt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.render=function(){return r.createElement("div",{style:{position:"absolute",top:this.props.viewModel.positionY,left:this.props.viewModel.positionX,height:this.props.viewModel.size,width:this.props.viewModel.size,backgroundColor:"green"}})},e=Wt([X.a],e)}(r.Component),Gt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Jt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.render=function(){return r.createElement("div",{style:{position:"absolute",top:this.props.viewModel.positionY,left:this.props.viewModel.positionX,height:this.props.viewModel.size,width:this.props.viewModel.size,backgroundColor:"red"}})},e=Jt([X.a],e)}(r.Component),Kt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zt=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},$t=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},te=function(t){function e(e){var o=t.call(this,e)||this;return o.viewModel=new Bt(100,100),o.viewModel.ltbl(),o}return Kt(e,t),e.prototype.render=function(){return r.createElement("div",{style:{position:"relative",height:this.viewModel.worldHeight,width:this.viewModel.worldWidth,border:"1px solid green"}},this.viewModel.souls.map((function(t){return t instanceof Mt?r.createElement(Ht,{key:t.id,viewModel:t}):r.createElement(Qt,{key:t.id,viewModel:t})})))},e=Zt([X.a,$t("design:paramtypes",[Object])],e)}(r.Component),ee=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),oe=function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},ne=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},re=function(t){function e(e){return t.call(this,e)||this}return ee(e,t),e.prototype.componentDidMount=function(){S.setPageTitle("Game page")},e.prototype.render=function(){return r.createElement(te,null)},e=oe([X.a,ne("design:paramtypes",[Object])],e)}(r.Component);Object(c.configure)({enforceActions:"always"});var ie=Object(a.a)(),ce=Object(h.syncHistoryWithStore)(ie,S.routingStore);i.render(r.createElement((function(t){var e=t.history;return r.createElement(r.Fragment,null,r.createElement(p.b,{history:e},r.createElement(Ot,null),r.createElement(p.a,{exact:!0,path:"/",component:Y}),r.createElement(p.a,{path:"/grid",component:lt}),r.createElement(p.a,{path:"/master",component:it}),r.createElement(p.a,{path:"/game",component:re})))}),{history:ce}),document.getElementById("root"))}},[[40,1,2]]]);